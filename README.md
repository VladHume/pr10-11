# pr10-11
## –ü–æ—è—Å–Ω–µ–Ω–Ω—è

[**fork_write.c**](https://github.com/VladHume/pr10-11/blob/main/fork_write.c) ‚Äî –ø—Ä–æ–≥—Ä–∞–º–∞ –Ω–∞ C, —è–∫–∞:
- –°—Ç–≤–æ—Ä—é—î —Ñ–∞–π–ª `output.txt`
- –í–∏–∫–æ–Ω—É—î `fork()` –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É
- –ó–∞–ø–∏—Å—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É —Ñ–∞–π–ª –∑ –æ–±–æ—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤

## –ö–æ–º–ø—ñ–ª—è—Ü—ñ—è —ñ –∑–∞–ø—É—Å–∫

```sh
gcc -Wall -o fork_write fork_write.c
./fork_write
nano output.txt
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

![image](https://github.com/user-attachments/assets/efe3db7a-9431-41fd-950f-d39b1be1b5ef)

![image](https://github.com/user-attachments/assets/8fca338a-a0af-400c-b466-534220559b1b)

> –ü–æ—Ä—è–¥–æ–∫ —Ä—è–¥–∫—ñ–≤ –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ —Ç–æ–≥–æ, —è–∫–∏–π –ø—Ä–æ—Ü–µ—Å –∑–∞–ø–∏—Å–∞–≤ –ø–µ—Ä—à–∏–º.

## üîç –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å

1. **–í—ñ–¥–∫—Ä–∏—Ç—Ç—è —Ñ–∞–π–ª—É:**
   ```c
   open("output.txt", O_CREAT | O_WRONLY | O_TRUNC, 0644);
   ```
   - –°—Ç–≤–æ—Ä—é—î –∞–±–æ –æ—á–∏—â—É—î —Ñ–∞–π–ª –¥–ª—è –∑–∞–ø–∏—Å—É.
   - –ü–æ–≤–µ—Ä—Ç–∞—î —Ñ–∞–π–ª–æ–≤–∏–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä `fd`.

2. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—É:**
   ```c
   pid_t pid = fork();
   ```
   - –°—Ç–≤–æ—Ä—é—î –∫–æ–ø—ñ—é –ø—Ä–æ—Ü–µ—Å—É.
   - –£ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–º—É –ø—Ä–æ—Ü–µ—Å—ñ –ø–æ–≤–µ—Ä—Ç–∞—î PID –¥–∏—Ç–∏–Ω–∏.
   - –£ –¥–æ—á—ñ—Ä–Ω—å–æ–º—É ‚Äî 0.

3. **–ó–∞–ø–∏—Å —É —Ñ–∞–π–ª:**
   ```c
   write(fd, "Written by parent process\n", ...);
   write(fd, "Written by child process\n", ...);
   ```
   - –û–±–∏–¥–≤–∞ –ø—Ä–æ—Ü–µ—Å–∏ –∑–∞–ø–∏—Å—É—é—Ç—å —É —Å–ø—ñ–ª—å–Ω–∏–π —Ñ–∞–π–ª.

4. **–û—á—ñ–∫—É–≤–∞–Ω–Ω—è:**
   ```c
   wait(NULL);
   ```
   - –ë–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–π –ø—Ä–æ—Ü–µ—Å —á–µ–∫–∞—î –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –¥–æ—á—ñ—Ä–Ω—å–æ–≥–æ.

5. **–ó–∞–∫—Ä–∏—Ç—Ç—è —Ñ–∞–π–ª—É:**
   ```c
   close(fd);
   ```

## –í–∏—Å–Ω–æ–≤–æ–∫

- –û–±–∏–¥–≤–∞ –ø—Ä–æ—Ü–µ—Å–∏ –º–æ–∂—É—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –æ–¥–Ω–∏–º —Ñ–∞–π–ª–æ–≤–∏–º –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–º.
- –ü–∞—Ä–∞–ª–µ–ª—å–Ω–∏–π –¥–æ—Å—Ç—É–ø –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ –∑–∞–ø–∏—Å—É.
- –¶–µ –±–∞–∑–æ–≤–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –º—ñ–∂–ø—Ä–æ—Ü–µ—Å–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ —É FreeBSD.


